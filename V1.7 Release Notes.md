## F5 Multisite Dashboard v1.7 "The CSS Update"

### Pool Grid Layout Improvements

#### **Clip-based detection for grid layout changes**
Dashboard versions 1.0-1.6 used viewport-based CSS breakpoints to determine when to change the table layout from 4 pools to 3, 2, or 1 based on window width. This approach had some issues with status badge float in micro mode. 

Version 1.7 introduces a universal clip-based detection system that triggers when status badges clip into the table head boundary. This results in:
- Smoother and cleaner visual output
- No horizontal scrollbar appearance long-term
- Consistent grid change behavior between Macro and Micro modes

#### **Pool grid CSS embedded in UI JavaScript module**
The pool grid logic has been removed from all theme CSS files and is now part of the JavaScript UI module. This architectural change provides several benefits:
- Single piece of code that can be adjusted agnostic of themes
- 300-400 lines of redundant CSS removed from theme files
- Consistent pool grid behavior regardless of theme applied

### Performance Optimization

#### **GPU usage reduced to 0% for normal viewing**
The original CSS themes featured layered shadows, subtle transitions, and a pulsing "liveness" element for all 'UP' pool members. While visually impressive with great depth, this caused the browser to maintain constant GPU compositing at 10+% utilization during normal viewing, with spikes to 25-30% in alarmed states.

Version 1.7 removes the heavy shadows, multilayered transitions, and pulsing UP elements while maintaining a nearly equivalent visual experience.

**Performance improvements:**
- **0% GPU usage** for non-alarmed states (previously 10+%)
- **~15% GPU usage** during alarmed events (previously 25-30%)
- GPU drops back to 0% when alarm states are cleared

### Theme Consolidation

#### **Three themes consolidated into a single CSS iFile**
While maintaining individual iFiles during initial theme development was preferable, it caused a significant amount of CSS duplication. In the interest of reducing iFile requirements and removing duplicate CSS code, all 3 CSS themes have been consolidated into a single **dashboard_themes.css** file.

The Core JavaScript module was updated to support the new "body.theme" selection method for activating individual themes from a single CSS. This change eliminates the browser "unbuilding" issue that previously caused a brief theme "flash" when switching themes. With one CSS file always active, theme changes are now smooth regardless of how much time has passed since a user last switched themes.

#### **Four theme file options available**
There are FOUR theme files that provide different theme1 options depending on customer desire. Only a single theme CSS is required for iFile installation:

**Default CSS** - Used for installs where a color header bar is not desired
- **AGLight** (theme1) with **Monochrome Grey** (theme2) and **Amber** (theme3)

**Classification Color Theme1 options:**
- **Green** theme1 with **Monochrome Grey** (theme2) and **Amber** (theme3)
- **Red** theme1 with **Monochrome Grey** (theme2) and **Amber** (theme3)
- **Yellow** theme1 with **Monochrome Grey** (theme2) and **Amber** (theme3)

*Note: The Blue theme has been deprecated and removed from the dashboard*

### DNS Resolve Improvements

#### **DNS Resolve functions are now scoped**
The DNS Resolve functions now scope properly for visual pools in the same manner as pool poll scoping. 

**How it works:**
- **No search active:** DNS requests are made for all IP addresses for a site table that does not have an existing hostname in the site cache
- **Search active:** DNS requests are made only for the IP addresses of the pools that were made visible by the search function result

Dashboard versions 1.0-1.6 made full DNS requests for every pool regardless of pool visibility. The DNS scoping operation now matches the pool poll scoping operation in function and intent.

---

*This release focuses on performance optimization, code maintainability, and enhanced scoping behavior while preserving the visual quality of the dashboard interface.*
